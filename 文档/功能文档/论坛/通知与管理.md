# 通知与管理（功能 + 实现说明）

> 关联上级：`文档/功能文档/forum.md`  
> 主要相关代码：
> - 通知中心：`packages/frontend/core/src/desktop/pages/workspace/forum/notifications/index.tsx`
> - 版主面板：`packages/frontend/core/src/desktop/pages/workspace/forum/moderator-panel/index.tsx`
> - API：`packages/frontend/core/src/desktop/pages/workspace/forum/forum-api.ts`

---

## 1. 通知中心（/forum/notifications）

> 细节见子文档：`论坛/通知与管理/通知中心功能.md`

- 功能视角：
  - 汇总与当前用户相关的所有论坛通知（被 @、被回复、被点赞、帖子被版主操作等）；
  - 按类型分组浏览，并支持“全部已读”操作；
  - 点击单条通知跳转到对应帖子或板块。

- 实现要点：
  - `NotificationDTO` 描述通知内容与类型（`ForumMention` / `ForumPostReplied` / `ForumReplyLiked` / `ForumPostLiked` / `ForumPostModerated`）；
  - `getNotifications(page, size, type?)` 提供按类型筛选的分页通知列表；
  - `markAsRead(notificationId)` / `markAllAsRead()` 支持单条/全部标记已读；
  - 通知中心页通过 Tab 切换不同视图（全部/@提及/回复/点赞/版主操作），并根据当前 Tab 决定请求参数与本地过滤逻辑。

---

## 2. 版主面板（/forum/moderator）

> 细节见子文档：`论坛/通知与管理/版主管理操作.md`

- 功能视角：
  - 为版主/管理员提供集中处理“用户举报”的入口；
  - 支持查看待处理举报、已处理举报；
  - 支持将举报标记为“通过”或“拒绝”，并添加处理备注。

- 实现要点：
  - `ReportDTO` 描述举报目标（帖子/回复等）、举报原因、描述、状态、处理人等；
  - `getPendingReports()` 获取待处理举报列表；
  - `handleReport(id, { status, handleNote })` 更新举报状态（`RESOLVED` 或 `REJECTED`）并记录处理备注；
  - 版主面板通过 Tab 切换“待处理”与“已处理”，分别展示不同状态的举报列表。

> 通知中心主要服务于“普通用户的视角”（看自己收到的通知），而版主面板则服务于“管理者视角”（统一处理社区中的举报内容）。 
