<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能框选整理加载</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 1. 画布背景：Figma/Miro 风格的浅灰网格 */
        body {
            background-color: #f3f4f6; /* Gray 100 */
            background-image: 
                linear-gradient(rgba(209, 213, 219, 0.5) 1px, transparent 1px),
                linear-gradient(90deg, rgba(209, 213, 219, 0.5) 1px, transparent 1px);
            background-size: 20px 20px;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            font-family: sans-serif;
        }

        /* 2. 舞台 */
        .stage {
            width: 300px;
            height: 200px;
            position: relative;
            /* border: 1px dashed #ccc; debugging */
        }

        /* 3. 散落的元素 (Items) */
        .item {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1), background-color 0.3s, border-color 0.3s;
            z-index: 5;
        }

        /* 元素的不同形态：初始是灰色的轮廓，被选中后变成彩色实心 */
        .item-circle { 
            width: 40px; height: 40px; border-radius: 50%; 
            border: 2px solid #9ca3af; background: white;
        }
        .item-rect { 
            width: 40px; height: 40px; border-radius: 8px; 
            border: 2px solid #9ca3af; background: white;
        }
        .item-poly { 
            width: 40px; height: 40px; border-radius: 8px; 
            border: 2px solid #9ca3af; background: white;
            transform: rotate(45deg);
        }

        /* 选中激活态 (Active/Organized State) */
        .item.organized {
            border-color: transparent;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .item-circle.organized { background: #f87171; } /* Red */
        .item-rect.organized { background: #60a5fa; } /* Blue */
        .item-poly.organized { background: #34d399; transform: rotate(0deg); } /* Green, reset rotation */

        /* --- 核心动画序列：控制元素的位置变化 --- */
        
        /* 元素 1 (圆形) */
        #item-1 {
            animation: item1-move 4s infinite ease-in-out;
        }
        @keyframes item1-move {
            0%, 15% { top: 20px; left: 40px; transform: rotate(0deg); } /* 散乱位置 */
            65% { top: 20px; left: 40px; } /* 等待被框选 */
            75%, 90% { top: 80px; left: 70px; } /* 吸附到整齐位置 (Left) */
            95% { background: white; border: 2px solid #9ca3af; } /* 重置颜色 */
            100% { top: 20px; left: 40px; } /* 回到原位 */
        }

        /* 元素 2 (方形) */
        #item-2 {
            animation: item2-move 4s infinite ease-in-out;
        }
        @keyframes item2-move {
            0%, 15% { top: 130px; left: 180px; transform: rotate(15deg); }
            65% { top: 130px; left: 180px; transform: rotate(15deg); }
            75%, 90% { top: 80px; left: 130px; transform: rotate(0deg); } /* 吸附到整齐位置 (Center) */
            95% { background: white; border: 2px solid #9ca3af; }
            100% { top: 130px; left: 180px; transform: rotate(15deg); }
        }

        /* 元素 3 (菱形) */
        #item-3 {
            animation: item3-move 4s infinite ease-in-out;
        }
        @keyframes item3-move {
            0%, 15% { top: 40px; left: 220px; transform: rotate(45deg); }
            65% { top: 40px; left: 220px; transform: rotate(45deg); }
            75%, 90% { top: 80px; left: 190px; transform: rotate(0deg); } /* 吸附到整齐位置 (Right) */
            95% { background: white; border: 2px solid #9ca3af; }
            100% { top: 40px; left: 220px; transform: rotate(45deg); }
        }
        
        /* JS辅助类：通过CSS动画控制状态太复杂，配合关键帧修改颜色需要这种Trick */
        /* 为了纯CSS实现，我使用了 animation 里的百分比来硬编码颜色变化，见上方 keyframes */


        /* 4. 光标 (Cursor) */
        .cursor {
            position: absolute;
            width: 24px;
            height: 24px;
            z-index: 20;
            top: 0;
            left: 0;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
            animation: cursor-action 4s infinite;
        }

        /* 光标路径：进入 -> 点击(左上) -> 拖拽(右下) -> 松开 -> 消失 */
        @keyframes cursor-action {
            0% { transform: translate(320px, 220px); opacity: 0; } /* 屏幕外 */
            10% { transform: translate(20px, 10px); opacity: 1; } /* 移动到起始点 */
            15% { transform: translate(20px, 10px) scale(0.9); } /* 点击按下 */
            20% { transform: translate(20px, 10px) scale(1); }
            50% { transform: translate(260px, 160px); } /* 拖拽结束点 */
            60% { transform: translate(260px, 160px); opacity: 1; } /* 松开 */
            70% { opacity: 0; } /* 消失，不挡视线 */
            100% { opacity: 0; }
        }

        /* 5. 选区框 (Selection Box) */
        .selection-box {
            position: absolute;
            top: 10px; /* 起始点Y */
            left: 20px; /* 起始点X */
            width: 0;
            height: 0;
            background-color: rgba(59, 130, 246, 0.1); /* Blue-500 low opacity */
            border: 1px solid rgba(59, 130, 246, 0.5);
            border-radius: 4px;
            z-index: 10;
            opacity: 0;
            pointer-events: none;
            animation: selection-drag 4s infinite;
        }

        @keyframes selection-drag {
            0%, 15% { width: 0; height: 0; opacity: 0; }
            16% { opacity: 1; } /* 开始显示 */
            50% { width: 240px; height: 150px; opacity: 1; } /* 拖拽至最大 */
            60% { opacity: 0; width: 240px; height: 150px; } /* 消失 */
            100% { opacity: 0; width: 0; height: 0; }
        }

        /* 6. 元素被框选时的高亮效果 (Simulation) */
        /* 我们通过 animation-delay 和 timing 来模拟"被扫过变蓝"的效果 */
        /* 这里简化：当光标拖拽结束时(60%)，元素变为彩色并归位 */

        /* 动态修改颜色：利用 CSS 动画控制 class 切换的效果 */
        #item-1 { animation-name: item1-move, item-color; }
        #item-2 { animation-name: item2-move, item-color; }
        #item-3 { animation-name: item3-move, item-color; }

        @keyframes item-color {
            0%, 60% { background: white; border-color: #9ca3af; }
            65% { background: #eff6ff; border-color: #3b82f6; } /* 选中高亮态 (Light Blue) */
            75% { border-color: transparent; } /* 整理态开始 */
            75.1% { background: var(--active-color); } /* 瞬间变色 */
            90% { background: var(--active-color); border-color: transparent; }
            95% { background: white; border-color: #9ca3af; }
        }

        #item-1 { --active-color: #f87171; }
        #item-2 { --active-color: #60a5fa; }
        #item-3 { --active-color: #34d399; }

    </style>
</head>
<body>

    <div class="flex flex-col items-center gap-6">
        
        <div class="stage">
            
            <!-- 选区框 -->
            <div class="selection-box"></div>

            <!-- 元素 1: 圆形 -->
            <div id="item-1" class="item item-circle">
                <!-- 内部图标 (可选) -->
            </div>

            <!-- 元素 2: 方形 -->
            <div id="item-2" class="item item-rect">
            </div>

            <!-- 元素 3: 菱形 -->
            <div id="item-3" class="item item-poly">
            </div>

            <!-- 光标 -->
            <div class="cursor">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3 3L10.5 21L13.5 13.5L21 10.5L3 3Z" fill="#1e293b" stroke="white" stroke-width="2" stroke-linejoin="round"/>
                </svg>
            </div>

        </div>

        <!-- 底部文字 -->
        <div class="text-center">
            <h3 class="text-slate-700 text-sm font-medium tracking-wider uppercase">Organizing Assets</h3>
            <p class="text-slate-400 text-xs mt-1">Selecting objects...</p>
        </div>

    </div>

</body>
</html>