# B2 æ”¯æ´ B3 æ ·å¼ç³»ç»Ÿé›†æˆæŒ‡å—

## ğŸ¯ æ”¯æ´ç›®æ ‡

ä½œä¸ºå·²å®Œæˆäº¤äº’è®¾è®¡çš„å¼€å‘è€…B2ï¼Œç°åœ¨ååŠ©å¼€å‘è€…B3è¿›è¡Œæ ·å¼ç³»ç»Ÿå¼€å‘ï¼Œç¡®ä¿äº¤äº’åŠŸèƒ½ä¸æ ·å¼çš„å®Œç¾é›†æˆã€‚

## ğŸ¨ äº¤äº’çŠ¶æ€æ ·å¼è§„èŒƒ

### 1. æ ¸å¿ƒäº¤äº’çŠ¶æ€å®šä¹‰

```typescript
// æ–‡ä»¶: packages/components/src/shared/interaction-states.ts
export enum InteractionState {
  Default = 'default',
  Hovered = 'hovered',
  Focused = 'focused',
  Active = 'active',
  Selected = 'selected',
  Dragging = 'dragging',
  Disabled = 'disabled',
  Loading = 'loading',
  Error = 'error',
  Success = 'success'
}

export interface InteractionStateStyles {
  [InteractionState.Default]: CSSProperties;
  [InteractionState.Hovered]: CSSProperties;
  [InteractionState.Focused]: CSSProperties;
  [InteractionState.Active]: CSSProperties;
  [InteractionState.Selected]: CSSProperties;
  [InteractionState.Dragging]: CSSProperties;
  [InteractionState.Disabled]: CSSProperties;
  [InteractionState.Loading]: CSSProperties;
  [InteractionState.Error]: CSSProperties;
  [InteractionState.Success]: CSSProperties;
}
```

### 2. äº¤äº’ä¸“ç”¨CSSå˜é‡ç³»ç»Ÿ

```css
/* æ–‡ä»¶: packages/components/src/shared/interaction-design-tokens.css */
:root {
  /* === äº¤äº’é¢œè‰²ç³»ç»Ÿ === */
  
  /* ä¸»è¦äº¤äº’é¢œè‰² */
  --interaction-primary: var(--affine-primary-color);
  --interaction-primary-hover: var(--affine-primary-color-hover);
  --interaction-primary-active: var(--affine-primary-color-active);
  --interaction-primary-alpha: var(--affine-primary-color-alpha);
  
  /* çŠ¶æ€æŒ‡ç¤ºé¢œè‰² */
  --interaction-success: #22c55e;
  --interaction-success-alpha: rgba(34, 197, 94, 0.1);
  --interaction-warning: #f59e0b;
  --interaction-warning-alpha: rgba(245, 158, 11, 0.1);
  --interaction-error: #ef4444;
  --interaction-error-alpha: rgba(239, 68, 68, 0.1);
  --interaction-info: #3b82f6;
  --interaction-info-alpha: rgba(59, 130, 246, 0.1);
  
  /* ä¸­æ€§äº¤äº’é¢œè‰² */
  --interaction-border: var(--affine-border-color);
  --interaction-border-hover: var(--affine-primary-color);
  --interaction-bg-hover: var(--affine-hover-color);
  --interaction-bg-selected: var(--affine-primary-color-alpha);
  --interaction-bg-disabled: rgba(128, 128, 128, 0.1);
  
  /* === äº¤äº’é˜´å½±ç³»ç»Ÿ === */
  
  /* åŸºç¡€é˜´å½± */
  --interaction-shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
  --interaction-shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
  --interaction-shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.15);
  --interaction-shadow-xl: 0 12px 32px rgba(0, 0, 0, 0.2);
  
  /* çŠ¶æ€é˜´å½± */
  --interaction-shadow-hover: var(--interaction-shadow-md);
  --interaction-shadow-focus: 0 0 0 2px var(--interaction-primary-alpha);
  --interaction-shadow-active: inset 0 2px 4px rgba(0, 0, 0, 0.1);
  --interaction-shadow-dragging: var(--interaction-shadow-xl);
  
  /* === äº¤äº’åŠ¨ç”»ç³»ç»Ÿ === */
  
  /* åŠ¨ç”»æ—¶é•¿ */
  --interaction-duration-fast: 0.15s;
  --interaction-duration-normal: 0.3s;
  --interaction-duration-slow: 0.5s;
  
  /* åŠ¨ç”»ç¼“åŠ¨ */
  --interaction-easing-smooth: cubic-bezier(0.4, 0, 0.2, 1);
  --interaction-easing-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  --interaction-easing-linear: linear;
  
  /* === äº¤äº’å°ºå¯¸ç³»ç»Ÿ === */
  
  /* ç„¦ç‚¹è½®å»“ */
  --interaction-focus-width: 2px;
  --interaction-focus-offset: 2px;
  
  /* æ‹–æ‹½æŒ‡ç¤ºå™¨ */
  --interaction-drag-indicator-height: 2px;
  --interaction-drag-indicator-radius: 1px;
  
  /* è§¦æ‘¸ç›®æ ‡æœ€å°å°ºå¯¸ */
  --interaction-touch-target-min: 44px;
  
  /* === å“åº”å¼æ–­ç‚¹ === */
  
  /* äº¤äº’åŒºåŸŸè°ƒæ•´æ–­ç‚¹ */
  --interaction-bp-mobile: 768px;
  --interaction-bp-tablet: 1024px;
  --interaction-bp-desktop: 1280px;
}

/* æš—è‰²ä¸»é¢˜äº¤äº’å˜é‡ */
@media (prefers-color-scheme: dark) {
  :root {
    --interaction-shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.3);
    --interaction-shadow-md: 0 4px 12px rgba(0, 0, 0, 0.4);
    --interaction-shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.5);
    --interaction-shadow-xl: 0 12px 32px rgba(0, 0, 0, 0.6);
  }
}

/* é«˜å¯¹æ¯”åº¦æ¨¡å¼ */
@media (prefers-contrast: high) {
  :root {
    --interaction-focus-width: 3px;
    --interaction-border: #000000;
    --interaction-border-hover: var(--interaction-primary);
  }
}

/* å‡å¼±åŠ¨ç”»æ¨¡å¼ */
@media (prefers-reduced-motion: reduce) {
  :root {
    --interaction-duration-fast: 0.01s;
    --interaction-duration-normal: 0.01s;
    --interaction-duration-slow: 0.01s;
  }
}
```

### 3. äº¤äº’çŠ¶æ€æ ·å¼æ··åˆå™¨(Mixins)

```typescript
// æ–‡ä»¶: packages/components/src/shared/interaction-style-mixins.ts
import { css, CSSResult } from 'lit';

export class InteractionStyleMixins {
  
  /**
   * åŸºç¡€äº¤äº’æ ·å¼ - æ‰€æœ‰å¯äº¤äº’å…ƒç´ çš„åŸºç¡€æ ·å¼
   */
  static interactive(): CSSResult {
    return css`
      cursor: pointer;
      transition: all var(--interaction-duration-normal) var(--interaction-easing-smooth);
      border: 1px solid var(--interaction-border);
      border-radius: 6px;
      background: var(--affine-background-primary-color);
      
      &:focus-visible {
        outline: var(--interaction-focus-width) solid var(--interaction-primary);
        outline-offset: var(--interaction-focus-offset);
      }
      
      &[data-disabled="true"] {
        cursor: not-allowed;
        opacity: 0.6;
        background: var(--interaction-bg-disabled);
      }
    `;
  }
  
  /**
   * æ‚¬åœæ•ˆæœ
   */
  static hover(intensity: 'subtle' | 'normal' | 'strong' = 'normal'): CSSResult {
    const shadows = {
      subtle: 'var(--interaction-shadow-sm)',
      normal: 'var(--interaction-shadow-hover)',
      strong: 'var(--interaction-shadow-lg)'
    };
    
    return css`
      &:hover:not([data-disabled="true"]) {
        border-color: var(--interaction-border-hover);
        background: var(--interaction-bg-hover);
        box-shadow: ${shadows[intensity]};
        transform: translateY(-1px);
      }
    `;
  }
  
  /**
   * æ¿€æ´»/æŒ‰ä¸‹æ•ˆæœ
   */
  static active(): CSSResult {
    return css`
      &:active:not([data-disabled="true"]) {
        transform: translateY(0);
        box-shadow: var(--interaction-shadow-active);
      }
    `;
  }
  
  /**
   * é€‰ä¸­çŠ¶æ€
   */
  static selected(): CSSResult {
    return css`
      &[data-selected="true"] {
        background: var(--interaction-bg-selected);
        border-color: var(--interaction-primary);
        box-shadow: var(--interaction-shadow-focus);
      }
    `;
  }
  
  /**
   * æ‹–æ‹½çŠ¶æ€
   */
  static dragging(): CSSResult {
    return css`
      &[data-dragging="true"] {
        opacity: 0.8;
        transform: rotate(2deg) scale(1.02);
        box-shadow: var(--interaction-shadow-dragging);
        z-index: 1000;
        cursor: grabbing;
      }
    `;
  }
  
  /**
   * æ‹–æ‹½ç›®æ ‡åŒºåŸŸ
   */
  static dropTarget(): CSSResult {
    return css`
      &[data-drop-target="true"] {
        background: var(--interaction-primary-alpha);
        border-color: var(--interaction-primary);
        border-style: dashed;
        
        &::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(
            45deg,
            transparent 25%,
            var(--interaction-primary-alpha) 25%,
            var(--interaction-primary-alpha) 50%,
            transparent 50%,
            transparent 75%,
            var(--interaction-primary-alpha) 75%
          );
          background-size: 8px 8px;
          border-radius: inherit;
          pointer-events: none;
        }
      }
    `;
  }
  
  /**
   * åŠ è½½çŠ¶æ€
   */
  static loading(): CSSResult {
    return css`
      &[data-loading="true"] {
        position: relative;
        pointer-events: none;
        
        &::after {
          content: '';
          position: absolute;
          top: 50%;
          left: 50%;
          width: 16px;
          height: 16px;
          margin: -8px 0 0 -8px;
          border: 2px solid var(--interaction-border);
          border-top-color: var(--interaction-primary);
          border-radius: 50%;
          animation: interaction-loading var(--interaction-duration-slow) linear infinite;
        }
      }
      
      @keyframes interaction-loading {
        to {
          transform: rotate(360deg);
        }
      }
    `;
  }
  
  /**
   * çŠ¶æ€æŒ‡ç¤º (æˆåŠŸ/é”™è¯¯/è­¦å‘Š)
   */
  static status(type: 'success' | 'error' | 'warning'): CSSResult {
    const colors = {
      success: 'var(--interaction-success)',
      error: 'var(--interaction-error)',
      warning: 'var(--interaction-warning)'
    };
    
    const alphaColors = {
      success: 'var(--interaction-success-alpha)',
      error: 'var(--interaction-error-alpha)',
      warning: 'var(--interaction-warning-alpha)'
    };
    
    return css`
      &[data-status="${type}"] {
        border-color: ${colors[type]};
        background: ${alphaColors[type]};
        
        &::before {
          content: '';
          position: absolute;
          top: -2px;
          left: -2px;
          right: -2px;
          bottom: -2px;
          border: 2px solid ${colors[type]};
          border-radius: inherit;
          pointer-events: none;
          opacity: 0;
          animation: interaction-status-pulse 1s ease-out;
        }
      }
      
      @keyframes interaction-status-pulse {
        0% {
          opacity: 0.8;
          transform: scale(1);
        }
        100% {
          opacity: 0;
          transform: scale(1.1);
        }
      }
    `;
  }
  
  /**
   * å“åº”å¼è§¦æ‘¸ä¼˜åŒ–
   */
  static touchOptimized(): CSSResult {
    return css`
      /* ç§»åŠ¨ç«¯ä¼˜åŒ– */
      @media (max-width: 768px) {
        min-height: var(--interaction-touch-target-min);
        min-width: var(--interaction-touch-target-min);
        
        /* å¢å¤§ç‚¹å‡»åŒºåŸŸ */
        &::before {
          content: '';
          position: absolute;
          top: -8px;
          left: -8px;
          right: -8px;
          bottom: -8px;
          pointer-events: none;
        }
      }
      
      /* è§¦æ‘¸è®¾å¤‡ç‰¹æ®Šæ ·å¼ */
      @media (hover: none) and (pointer: coarse) {
        &:hover {
          /* ç¦ç”¨æ‚¬åœæ•ˆæœ */
          transform: none;
          box-shadow: none;
        }
      }
    `;
  }
}

/**
 * ä¾¿æ·çš„æ ·å¼ç»„åˆå‡½æ•°
 */
export function createInteractiveElementStyles(
  options: {
    hover?: 'subtle' | 'normal' | 'strong';
    enableDrag?: boolean;
    enableTouch?: boolean;
    statusTypes?: ('success' | 'error' | 'warning')[];
  } = {}
): CSSResult {
  const {
    hover = 'normal',
    enableDrag = false,
    enableTouch = true,
    statusTypes = []
  } = options;
  
  const styles = [
    InteractionStyleMixins.interactive(),
    InteractionStyleMixins.hover(hover),
    InteractionStyleMixins.active(),
    InteractionStyleMixins.selected(),
    InteractionStyleMixins.loading()
  ];
  
  if (enableDrag) {
    styles.push(
      InteractionStyleMixins.dragging(),
      InteractionStyleMixins.dropTarget()
    );
  }
  
  if (enableTouch) {
    styles.push(InteractionStyleMixins.touchOptimized());
  }
  
  statusTypes.forEach(type => {
    styles.push(InteractionStyleMixins.status(type));
  });
  
  return css`${styles}`;
}
```

## ğŸ¨ ç»„ä»¶ä¸“ç”¨æ ·å¼è§„èŒƒ

### 1. LayoutSwitcher æ ·å¼

```typescript
// æ–‡ä»¶: packages/components/src/layout-switcher/layout-switcher-styles.ts
import { css } from 'lit';
import { createInteractiveElementStyles, InteractionStyleMixins } from '../shared/interaction-style-mixins.js';

export const layoutSwitcherStyles = css`
  .layout-switcher {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 12px;
    background: var(--affine-background-secondary-color);
    border-radius: 8px;
    border: 1px solid var(--interaction-border);
    box-shadow: var(--interaction-shadow-sm);
    
    ${InteractionStyleMixins.hover('subtle')}
  }
  
  .layout-button {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    padding: 8px;
    border: 2px solid transparent;
    border-radius: 6px;
    background: transparent;
    cursor: pointer;
    transition: all var(--interaction-duration-normal) var(--interaction-easing-smooth);
    
    ${createInteractiveElementStyles({
      hover: 'normal',
      enableTouch: true,
      statusTypes: ['success']
    })}
    
    /* å›¾æ ‡æ ·å¼ */
    .layout-icon {
      font-size: 16px;
      font-weight: 600;
      color: var(--affine-text-secondary-color);
      transition: color var(--interaction-duration-fast) ease;
    }
    
    /* æ ‡ç­¾æ ·å¼ */
    .layout-label {
      font-size: 10px;
      font-weight: 500;
      color: var(--affine-text-tertiary-color);
      margin-top: 2px;
      transition: color var(--interaction-duration-fast) ease;
    }
    
    /* æ¿€æ´»çŠ¶æ€ */
    &.active {
      background: var(--interaction-primary);
      border-color: var(--interaction-primary);
      color: white;
      
      .layout-icon,
      .layout-label {
        color: white;
      }
      
      /* æ¿€æ´»æŒ‡ç¤ºå™¨ */
      &::after {
        content: '';
        position: absolute;
        bottom: -4px;
        left: 50%;
        transform: translateX(-50%);
        width: 4px;
        height: 4px;
        background: var(--interaction-primary);
        border-radius: 2px;
      }
    }
    
    /* é”®ç›˜å¯¼èˆªçŠ¶æ€ */
    &:focus-visible {
      outline: var(--interaction-focus-width) solid var(--interaction-primary);
      outline-offset: var(--interaction-focus-offset);
    }
  }
  
  /* å“åº”å¼è°ƒæ•´ */
  @media (max-width: 768px) {
    .layout-switcher {
      gap: 4px;
      padding: 6px 8px;
    }
    
    .layout-button {
      width: 40px;
      height: 40px;
      
      .layout-icon {
        font-size: 14px;
      }
      
      .layout-label {
        font-size: 9px;
      }
    }
  }
`;
```

### 2. ColumnContent æ ·å¼

```typescript
// æ–‡ä»¶: packages/components/src/column-content/column-content-styles.ts
import { css } from 'lit';
import { createInteractiveElementStyles, InteractionStyleMixins } from '../shared/interaction-style-mixins.js';

export const columnContentStyles = css`
  .column-content {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: 12px;
    padding: 16px;
    background: var(--affine-background-primary-color);
    border: 1px solid var(--interaction-border);
    border-radius: 8px;
    min-height: 200px;
    transition: all var(--interaction-duration-normal) var(--interaction-easing-smooth);
    
    ${InteractionStyleMixins.dropTarget()}
    ${InteractionStyleMixins.hover('subtle')}
    
    /* ç„¦ç‚¹çŠ¶æ€ */
    &[data-focused="true"] {
      border-color: var(--interaction-primary);
      box-shadow: var(--interaction-shadow-focus);
    }
  }
  
  .column-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 12px;
    background: var(--affine-background-secondary-color);
    border-radius: 6px;
    border: 1px solid var(--interaction-border);
    font-size: 14px;
    font-weight: 500;
    
    .column-title {
      color: var(--affine-text-primary-color);
    }
    
    .block-count {
      font-size: 12px;
      color: var(--affine-text-secondary-color);
      background: var(--interaction-bg-hover);
      padding: 2px 6px;
      border-radius: 3px;
    }
  }
  
  .column-blocks {
    display: flex;
    flex-direction: column;
    gap: 8px;
    flex: 1;
    min-height: 100px;
  }
  
  .block-item {
    position: relative;
    padding: 12px;
    background: var(--affine-background-primary-color);
    border: 1px solid var(--interaction-border);
    border-radius: 6px;
    
    ${createInteractiveElementStyles({
      hover: 'normal',
      enableDrag: true,
      enableTouch: true,
      statusTypes: ['success', 'error']
    })}
    
    /* æ‹–æ‹½æ‰‹æŸ„ */
    &::before {
      content: 'â‹®â‹®';
      position: absolute;
      left: 4px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 12px;
      color: var(--affine-text-tertiary-color);
      opacity: 0;
      transition: opacity var(--interaction-duration-fast) ease;
    }
    
    &:hover::before {
      opacity: 1;
    }
  }
  
  /* æ‹–æ‹½æ’å…¥æŒ‡ç¤ºå™¨ */
  .drop-indicator {
    position: absolute;
    left: 0;
    right: 0;
    height: var(--interaction-drag-indicator-height);
    background: var(--interaction-primary);
    border-radius: var(--interaction-drag-indicator-radius);
    z-index: 10;
    opacity: 0;
    transform: scaleX(0);
    transition: all var(--interaction-duration-fast) var(--interaction-easing-smooth);
    
    &.visible {
      opacity: 1;
      transform: scaleX(1);
    }
  }
  
  /* ç©ºçŠ¶æ€æ ·å¼ */
  &.empty {
    border-style: dashed;
    border-color: var(--interaction-border);
    
    &::after {
      content: 'æ‹–æ”¾å†…å®¹åˆ°è¿™é‡Œæˆ–ç‚¹å‡»æ·»åŠ æŒ‰é’®';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      color: var(--affine-text-tertiary-color);
      font-size: 14px;
      pointer-events: none;
    }
  }
  
  /* å“åº”å¼è°ƒæ•´ */
  @media (max-width: 768px) {
    .column-content {
      padding: 12px;
      gap: 8px;
    }
    
    .block-item {
      padding: 8px;
      
      &::before {
        left: 2px;
        font-size: 10px;
      }
    }
  }
`;
```

### 3. AddContentButton æ ·å¼

```typescript
// æ–‡ä»¶: packages/components/src/column-content/add-content-button-styles.ts
import { css } from 'lit';
import { createInteractiveElementStyles } from '../shared/interaction-style-mixins.js';

export const addContentButtonStyles = css`
  .add-content-button {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    width: 100%;
    padding: 12px;
    background: transparent;
    border: 2px dashed var(--interaction-border);
    border-radius: 6px;
    font-size: 14px;
    font-weight: 500;
    color: var(--affine-text-secondary-color);
    cursor: pointer;
    transition: all var(--interaction-duration-normal) var(--interaction-easing-smooth);
    
    ${createInteractiveElementStyles({
      hover: 'normal',
      enableTouch: true
    })}
    
    /* å›¾æ ‡ */
    .add-icon {
      font-size: 16px;
      transition: transform var(--interaction-duration-fast) ease;
    }
    
    /* æ‚¬åœæ•ˆæœ */
    &:hover:not([data-disabled="true"]) {
      border-color: var(--interaction-primary);
      color: var(--interaction-primary);
      background: var(--interaction-primary-alpha);
      
      .add-icon {
        transform: scale(1.1);
      }
    }
    
    /* æ¿€æ´»æ•ˆæœ */
    &:active:not([data-disabled="true"]) {
      transform: scale(0.98);
      
      .add-icon {
        transform: scale(0.95);
      }
    }
    
    /* æ¶Ÿæ¼ªæ•ˆæœå®¹å™¨ */
    .ripple-container {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      border-radius: inherit;
      overflow: hidden;
      pointer-events: none;
    }
    
    /* åŠ è½½çŠ¶æ€ */
    &[data-loading="true"] {
      pointer-events: none;
      
      .add-icon {
        animation: add-button-loading var(--interaction-duration-slow) linear infinite;
      }
    }
    
    @keyframes add-button-loading {
      to {
        transform: rotate(360deg);
      }
    }
    
    /* ç¦ç”¨çŠ¶æ€ */
    &[data-disabled="true"] {
      border-color: var(--interaction-bg-disabled);
      color: var(--affine-text-disable-color);
      background: var(--interaction-bg-disabled);
      cursor: not-allowed;
    }
  }
  
  /* å“åº”å¼ä¼˜åŒ– */
  @media (max-width: 768px) {
    .add-content-button {
      padding: 16px;
      font-size: 16px;
      
      .add-icon {
        font-size: 18px;
      }
    }
  }
`;
```

## ğŸ­ åŠ¨ç”»ä¸æ ·å¼åè°ƒ

### åŠ¨ç”»ç›¸å…³CSSå˜é‡
```css
/* ä¸C1åŠ¨ç”»å·¥ç¨‹å¸ˆåè°ƒçš„å˜é‡ */
:root {
  /* å¸ƒå±€åˆ‡æ¢åŠ¨ç”» */
  --layout-switch-duration: 400ms;
  --layout-switch-easing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  
  /* å†…å®¹å˜åŒ–åŠ¨ç”» */
  --content-change-duration: 300ms;
  --content-change-easing: cubic-bezier(0.34, 1.56, 0.64, 1);
  
  /* å¾®äº¤äº’åŠ¨ç”» */
  --micro-interaction-duration: 150ms;
  --micro-interaction-easing: cubic-bezier(0.4, 0, 0.2, 1);
}
```

## ğŸ“± å“åº”å¼äº¤äº’æ ·å¼

### ä¸C2å“åº”å¼ä¸“å®¶çš„åè°ƒæ–¹æ¡ˆ
```css
/* å“åº”å¼äº¤äº’æ–­ç‚¹ */
@media (max-width: 768px) {
  /* ç§»åŠ¨ç«¯äº¤äº’ä¼˜åŒ– */
  :root {
    --interaction-touch-target-min: 44px;
    --interaction-focus-width: 3px;
    --interaction-shadow-hover: var(--interaction-shadow-lg);
  }
  
  /* ç¦ç”¨hoveræ•ˆæœ */
  @media (hover: none) {
    .interactive-element:hover {
      transform: none !important;
      box-shadow: var(--interaction-shadow-sm) !important;
    }
  }
}

@media (max-width: 1024px) {
  /* å¹³æ¿ç«¯ä¼˜åŒ– */
  :root {
    --interaction-duration-normal: 0.2s;
  }
}
```

## ğŸ”— ä¸å…¶ä»–å›¢é˜Ÿçš„é›†æˆæ¥å£

### 1. ä¸B1ç»„ä»¶æ¶æ„çš„æ¥å£
```typescript
// æ ·å¼propæ¥å£
interface ComponentStyleProps {
  variant?: 'primary' | 'secondary' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  state?: InteractionState;
  disabled?: boolean;
  loading?: boolean;
}

// æ ·å¼ç±»åç”Ÿæˆå™¨
export function generateInteractionClasses(props: ComponentStyleProps): string {
  const classes = ['interactive-element'];
  
  if (props.variant) classes.push(`variant-${props.variant}`);
  if (props.size) classes.push(`size-${props.size}`);
  if (props.state) classes.push(`state-${props.state}`);
  if (props.disabled) classes.push('disabled');
  if (props.loading) classes.push('loading');
  
  return classes.join(' ');
}
```

### 2. ä¸C1åŠ¨ç”»ç³»ç»Ÿçš„æ¥å£
```css
/* åŠ¨ç”»é’©å­ç±» */
.animation-enter {
  opacity: 0;
  transform: translateY(20px);
}

.animation-enter-active {
  opacity: 1;
  transform: translateY(0);
  transition: all var(--content-change-duration) var(--content-change-easing);
}

.animation-exit {
  opacity: 1;
  transform: scale(1);
}

.animation-exit-active {
  opacity: 0;
  transform: scale(0.9);
  transition: all var(--content-change-duration) var(--content-change-easing);
}
```

## âœ… B3 å¼€å‘ä»»åŠ¡æ£€æŸ¥æ¸…å•

### ç¬¬1-2å¤©ï¼šæ ·å¼ç³»ç»Ÿæ¶æ„ âœ…
- [ ] é›†æˆäº¤äº’è®¾è®¡ä»¤ç‰Œç³»ç»Ÿ
- [ ] åˆ›å»ºäº¤äº’æ ·å¼æ··åˆå™¨
- [ ] å»ºç«‹æ ·å¼å·¥å…·å‡½æ•°åº“
- [ ] è®¾ç½®å“åº”å¼äº¤äº’æ–­ç‚¹

### ç¬¬3-4å¤©ï¼šLayoutSwitcheræ ·å¼
- [ ] åº”ç”¨LayoutSwitcheræ ·å¼è§„èŒƒ
- [ ] é›†æˆäº¤äº’çŠ¶æ€æ ·å¼
- [ ] é€‚é…ç§»åŠ¨ç«¯äº¤äº’
- [ ] æµ‹è¯•é”®ç›˜å¯¼èˆªæ ·å¼

### ç¬¬5-6å¤©ï¼šColumnContentæ ·å¼
- [ ] å®ç°ColumnContentæ ·å¼ç³»ç»Ÿ
- [ ] é›†æˆæ‹–æ‹½çŠ¶æ€æ ·å¼
- [ ] æ·»åŠ AddContentButtonæ ·å¼
- [ ] ä¼˜åŒ–è§¦æ‘¸äº¤äº’ä½“éªŒ

### ç¬¬7-8å¤©ï¼šå¸ƒå±€æ ·å¼å’Œä¸»é¢˜
- [ ] å®Œå–„æ•´ä½“å¸ƒå±€æ ·å¼
- [ ] é›†æˆæš—è‰²ä¸»é¢˜æ”¯æŒ
- [ ] æ·»åŠ é«˜å¯¹æ¯”åº¦æ¨¡å¼
- [ ] å®ç°è‡ªå®šä¹‰ä¸»é¢˜æ¥å£

---

**B2ä¸ºB3æ ·å¼å¼€å‘æä¾›å…¨é¢æ”¯æ´** ğŸ¨  
*ç¡®ä¿äº¤äº’åŠŸèƒ½ä¸æ ·å¼çš„å®Œç¾èåˆï¼*