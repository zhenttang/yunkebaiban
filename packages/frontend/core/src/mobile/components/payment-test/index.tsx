import React, { useState } from 'react';\nimport { Button } from '@yunke/component';\nimport type { CommunityDocument } from '../../../components/community-ui/types';\nimport { MobilePayment } from '../payment';\nimport * as styles from './styles.css';\n\ninterface MobilePaymentTestProps {\n  onBack?: () => void;\n}\n\nexport const MobilePaymentTest: React.FC<MobilePaymentTestProps> = ({ onBack }) => {\n  const [showPayment, setShowPayment] = useState(false);\n  \n  // 模拟测试文档\n  const testDocument: CommunityDocument = {\n    id: 'mobile-test-001',\n    title: 'YUNKE移动端支付功能测试',\n    description: '测试移动端支付宝/微信扫码支付流程',\n    price: '1',\n    author: 'YUNKE团队',\n    createdAt: new Date().toISOString(),\n    tags: ['测试', '支付'],\n    category: '功能测试',\n    isLocked: true,\n    previewContent: '这是一个用于测试移动端支付功能的示例文档...',\n  };\n\n  const handleStartPayment = () => {\n    setShowPayment(true);\n  };\n\n  const handlePaymentSuccess = () => {\n    console.log('移动端支付成功!');\n    setShowPayment(false);\n    // 这里可以添加支付成功后的逻辑\n  };\n\n  const handlePaymentCancel = () => {\n    setShowPayment(false);\n  };\n\n  if (showPayment) {\n    return (\n      <MobilePayment\n        document={testDocument}\n        onPaymentSuccess={handlePaymentSuccess}\n        onCancel={handlePaymentCancel}\n      />\n    );\n  }\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.header}>\n        {onBack && (\n          <button className={styles.backButton} onClick={onBack}>\n            ← 返回\n          </button>\n        )}\n        <h2 className={styles.title}>移动端支付测试</h2>\n      </div>\n\n      <div className={styles.content}>\n        <div className={styles.testCard}>\n          <div className={styles.cardHeader}>\n            <h3 className={styles.cardTitle}>支付功能测试</h3>\n            <span className={styles.testBadge}>测试</span>\n          </div>\n          \n          <div className={styles.cardContent}>\n            <p className={styles.description}>\n              这是一个用于测试移动端支付功能的页面。点击下方按钮可以体验完整的支付流程，包括：\n            </p>\n            \n            <ul className={styles.featureList}>\n              <li>支付方式选择（支付宝/微信）</li>\n              <li>二维码生成和显示</li>\n              <li>支付状态监控</li>\n              <li>移动端适配界面</li>\n            </ul>\n            \n            <div className={styles.mockInfo}>\n              <h4 className={styles.mockTitle}>测试商品信息：</h4>\n              <div className={styles.mockItem}>\n                <span className={styles.mockLabel}>商品：</span>\n                <span className={styles.mockValue}>{testDocument.title}</span>\n              </div>\n              <div className={styles.mockItem}>\n                <span className={styles.mockLabel}>价格：</span>\n                <span className={styles.mockPrice}>¥{testDocument.price}</span>\n              </div>\n              <div className={styles.mockItem}>\n                <span className={styles.mockLabel}>说明：</span>\n                <span className={styles.mockValue}>{testDocument.description}</span>\n              </div>\n            </div>\n          </div>\n          \n          <div className={styles.cardActions}>\n            <Button\n              variant=\"primary\"\n              onClick={handleStartPayment}\n              className={styles.startButton}\n            >\n              开始支付测试\n            </Button>\n          </div>\n        </div>\n        \n        <div className={styles.infoCard}>\n          <div className={styles.infoHeader}>\n            <span className={styles.infoIcon}>ℹ️</span>\n            <h4 className={styles.infoTitle}>说明</h4>\n          </div>\n          <div className={styles.infoContent}>\n            <p className={styles.infoText}>\n              此功能仅用于测试移动端支付界面和流程，不会产生实际的费用扣除。\n              支付测试会模拟真实的支付流程，包括二维码展示和状态轮询。\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MobilePaymentTest;\n